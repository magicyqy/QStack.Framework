$(function(){new Vue({el:"#app",data:{page:1,limit:15,count:0,items:[]},mounted:function(){this.load()},methods:{load:function(){let n=this,t=window.location.href.split("/"),i=t[t.length-2],r=getPagedQuery();http.get(`/crawler/api/v1.0/spiders/${i}/histories?${r}`,function(t){n.page=t.page;n.limit=t.pageSize;n.count=t.totalCount;n.items=[];t.data.forEach(t=>{n.items.push(t)})})},exit:function(n){swal({title:"Sure to stop this spider?",type:"warning",showCancelButton:!0},function(){let t=$(n.toElement).parent().parent().parent().attr("id");http.put("/crawler/api/v1.0/spiders/"+t+"/exit",null,function(){swal("Success","Send signal success","success")},function(){swal("Error","Stop spider failed","error")})})},remove:function(n){swal({title:"Sure to remove container of this spider?",type:"warning",showCancelButton:!0},function(){let t=$(n.toElement).parent().parent().parent().attr("id");http.put("/crawler/api/v1.0/spiders/"+t+"/remove",null,function(){swal("Success","Send signal success","success")},function(){swal("Error","Remove spidercontainer failed","error")})})}}})});