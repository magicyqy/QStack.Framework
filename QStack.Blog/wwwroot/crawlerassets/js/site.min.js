function handleSuccess(n,t,i){if(n&&n.code&&n.code!==0)if(i)i(n);else{let t=n.msg?n.msg:"Unknown error";swal("Error",t,"error")}else t&&t(n)}function handleError(n,t){if(t)n.responseJSON?t(n.responseJSON):n.statusText?t(n.statusText):t(n);else if(n.responseJSON)if(n.responseJSON.errors){let t="\n";n.responseJSON.errors.forEach(n=>{t+=n.error+"\n"});swal(n.responseJSON.msg?n.responseJSON.msg:"Error",t,"error")}else swal("Error",n.responseJSON.msg?n.responseJSON.msg:"Unknown error","error");else n.statusText?swal("Error",n.statusText?n.statusText:"Unknown error","error"):swal("Error","Unknown error","error")}function getQueryArgument(n){let t=new URL(window.location.href);return t.searchParams.get(n)}function uuid(){let n=[],t="0123456789abcdef";for(let i=0;i<36;i++)n[i]=t.substr(Math.floor(Math.random()*16),1);return n[14]="4",n[19]=t.substr(n[19]&3|8,1),n[8]=n[13]=n[18]=n[23]="-",n.join("")}function formatDate(n,t="YY-MM-DD hh:mm:ss"){if(!n)return"";let i=new Date(n),h=i.getFullYear(),u=i.getMonth()+1,f=i.getDate(),e=i.getHours(),o=i.getMinutes(),s=i.getSeconds(),r=Array.apply(null,Array(10)).map(function(n,t){return"0"+t});return t.replace(/YY/g,h).replace(/MM/g,r[u]||u).replace(/DD/g,r[f]||f).replace(/hh/g,r[e]||e).replace(/mm/g,r[o]||o).replace(/ss/g,r[s]||s)}function getPagedQuery(){let n=getQueryArgument("page");n=n===null?1:n;let t=getQueryArgument("limit");t=t===null?15:t;let i=getQueryArgument("keyword");return i=i===null?"":i,`page=${n}&limit=${t}&keyword=${i}`}function getQueryParam(){let n=getQueryArgument("page");n=n===null?1:n;let t=getQueryArgument("limit");t=t===null?15:t;let i=getQueryArgument("keyword");return i=i===null?"":i,{page:n,limit:t,keyword:i}}const http={};http.get=function(n,t,i){$.ajax({url:n,method:"GET",success:function(n){handleSuccess(n,t,i)},error:function(n){handleError(n,i)}})};http.delete=function(n,t,i){$.ajax({url:n,method:"DELETE",success:function(n){handleSuccess(n,t,i)},error:function(n){handleError(n,i)}})};http.post=function(n,t,i,r){$.ajax({url:n,data:t?JSON.stringify(t):null,method:"POST",contentType:"application/json",success:function(n){handleSuccess(n,i,r)},error:function(n){handleError(n,r)}})};http.put=function(n,t,i,r){$.ajax({url:n,data:t?JSON.stringify(t):null,method:"PUT",contentType:"application/json",success:function(n){handleSuccess(n,i,r)},error:function(n){handleError(n,r)}})};