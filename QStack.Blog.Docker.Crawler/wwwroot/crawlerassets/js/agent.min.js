$(function(){new Vue({el:"#app",data:{page:1,limit:15,count:0,items:[],baseUrl:"/crawler/api/v1.0/agents/"},mounted:function(){this.load()},methods:{load:function(){let n=this,t=getPagedQuery();http.get(this.baseUrl+`?${t}`,function(t){n.page=t.page;n.limit=t.pageSize;n.count=t.totalCount;n.items=[];t.data.forEach(t=>{n.items.push(t)})})},exit:function(n){swal({title:"Sure to stop this agent?",type:"warning",showCancelButton:!0},function(){let t=$(n.toElement).parent().parent().parent().attr("id");http.put(this.baseUrl+t+"/exit",null,function(){swal("Success","Send signal success","success")},function(){swal("Error","Stop agent failed","error")})})},remove:function(n){const t=this;swal({title:"Sure to remove this agent?",type:"warning",showCancelButton:!0},function(){let i=$(n.toElement).parent().parent().parent().attr("id");http.delete(this.baseUrl+i,function(){t.load()},function(){swal("Error","Remove agent failed","error")})})}}})});